@import "tailwindcss";

@theme {
  --animate-slide-in-left: slide-in-left 0.3s ease-out;
  --animate-slide-in-right: slide-in-right 0.3s ease-out;
}

/* テーマカラーの CSS 変数（グレースケール） */
:root {
  --theme-50: #f9fafb;
  --theme-100: #f3f4f6;
  --theme-200: #e5e7eb;
  --theme-300: #d1d5db;
  --theme-400: #9ca3af;
  --theme-500: #6b7280;
  --theme-600: #4b5563;
  --theme-700: #374151;
  --theme-800: #1f2937;
  --theme-900: #111827;

  --theme-primary: #374151;
  --theme-primary-dark: #1f2937;
  --theme-primary-light: #6b7280;
}

@keyframes slide-in-left {
  0% { transform: translateX(100%); opacity: 0; }
  100% { transform: translateX(0); opacity: 1; }
}

@keyframes slide-in-right {
  0% { transform: translateX(-100%); opacity: 0; }
  100% { transform: translateX(0); opacity: 1; }
}

body {
  @apply bg-white text-gray-900;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Hiragino Sans', 'Noto Sans JP', sans-serif;
  transition: background-color 0.2s ease, color 0.2s ease;
}

.dark body {
  background-color: #0f172a;
  color: #f1f5f9;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* ボトムナビゲーション上部の固定フッター位置（セーフエリア対応） */
.fixed-above-bottom-nav {
  bottom: calc(4rem + env(safe-area-inset-bottom, 0px));
}

@media (min-width: 768px) {
  .fixed-above-bottom-nav {
    bottom: 0;
  }
}

/* ダークモード切り替え: 主要UI要素にスムーズなカラートランジション */
nav, main, header, footer,
[class*="bg-white"], [class*="bg-slate"], [class*="bg-gray"],
[class*="dark:bg-"] {
  transition: background-color 0.2s ease, border-color 0.15s ease;
}

/* スクロールバーを非表示 */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

/* テーマカラーをプライマリカラーに対応させるユーティリティ */
[class*="bg-blue-"] {
  @supports (--css: variables) {
    & {
      --apply-theme-override: 1;
    }
  }
}

/* プライマリカラー対応（動的テーマ） */
.btn-primary {
  background-color: var(--theme-primary);
}

.btn-primary:hover {
  background-color: var(--theme-primary-dark);
}

.focus\:ring-primary-600 {
  --tw-ring-color: var(--theme-primary, #3b82f6) !important;
}

.text-primary-600 {
  color: var(--theme-primary);
}

.border-primary-500 {
  border-color: var(--theme-primary) !important;
}

.bg-primary-50 {
  background-color: var(--theme-50) !important;
}

.dark .bg-primary-900\/30 {
  background-color: color-mix(in srgb, var(--theme-900) 30%, transparent) !important;
}
